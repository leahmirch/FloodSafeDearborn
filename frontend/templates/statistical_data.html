{% extends "layout.html" %}
{% block content %}
<div class="container">
    <section>
        <h2><strong>Flood Statistics in Dearborn, Michigan</strong></h2>
        <p>
            Dearborn, Michigan, is particularly vulnerable to flooding due to its low elevation and aging sewer infrastructure. Historical flood events have often been exacerbated by heavy rainfall, leading to severe damage to homes, roads, and public infrastructure.
        </p>
        <p>
            Between 2018 and 2023, Dearborn experienced multiple significant flood events, with rising trends of moderate to severe flooding. Events include infrastructure failures and overflow from the Rouge River, which runs through the city. FEMA and NOAA reports indicate an increasing frequency of high-risk events due to changing climate conditions.
        </p>
    </section>
    
    <hr>

    <!-- Events by Type -->
    <section>
        <h3><strong>Flood Events by Type</strong></h3>
        <p>
            This chart categorizes the types of flooding events reported, including water levels, flood severity assessments, road closures, flood risk assessments, and traffic disruptions.
        </p>
        <div id="events-by-type"></div>
    </section>

    <hr>

    <!-- Flood Severity Distribution -->
    <section>
        <h3><strong>Flood Severity Distribution</strong></h3>
        <p>
            The chart below highlights the severity levels of reported flood events. Approximately half of all flood events in Dearborn are categorized as "Low Severity," while "Moderate" and "High" severity events constitute a significant portion of the risk.
        </p>
        <div id="flood-severity"></div>
    </section>

    <hr>

    <!-- Flood Events Over Time -->
    <section>
        <h3><strong>Flood Events Over Time</strong></h3>
        <p>
            Historical flood trends in Dearborn from 2018 to 2023 show an upward trajectory in flood frequency, particularly between 2019 and 2021. Efforts to mitigate these issues include federal and local infrastructure improvements.
        </p>
        <div id="flood-events-over-time"></div>
    </section>

    <hr>

    <footer>
        <h4><strong>Sources</strong></h4>
        <ul>
            <li>
                <a href="https://www.noaa.gov" target="_blank">NOAA Climate Data</a>
            </li>
            <li>
                <a href="https://msc.fema.gov" target="_blank">FEMA Flood Map Service Center</a>
            </li>
            <li>
                Regional Flood Risk Assessments (Dearborn Reports, 2023)
            </li>
        </ul>
    </footer>
</div>

<script src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>
<script>
    const eventsByType = [
        {
            x: ['Water Levels', 'Flood Severity', 'Closed Roads', 'Flood Reports', 'Traffic Conditions'],
            y: [50, 30, 25, 20, 15],
            type: 'bar',
            marker: { color: 'blue' }
        }
    ];
    Plotly.newPlot('events-by-type', eventsByType, {
        title: 'Flood Events by Type',
        xaxis: { title: 'Event Type' },
        yaxis: { title: 'Number of Events' }
    });

    const floodSeverity = [
        {
            labels: ['Low', 'Moderate', 'High'],
            values: [50, 35, 15],
            type: 'pie',
            marker: { colors: ['#1f77b4', '#ff7f0e', '#d62728'] }
        }
    ];
    Plotly.newPlot('flood-severity', floodSeverity, {
        title: 'Flood Severity Distribution'
    });

    const eventsOverTime = [
        {
            x: ['2018', '2019', '2020', '2021', '2022', '2023'],
            y: [5, 8, 12, 15, 9, 10],
            type: 'line',
            line: { color: 'green' }
        }
    ];
    Plotly.newPlot('flood-events-over-time', eventsOverTime, {
        title: 'Flood Events Over Time',
        xaxis: { title: 'Year' },
        yaxis: { title: 'Number of Events' }
    });
</script>
{% endblock %}
